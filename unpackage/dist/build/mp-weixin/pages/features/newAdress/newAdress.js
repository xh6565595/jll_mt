(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/features/newAdress/newAdress"],{"1a5f":function(e,t,r){"use strict";var i=r("ea36"),n=r.n(i);n.a},"24ca":function(e,t,r){"use strict";r.r(t);var i=r("c006"),n=r("915c");for(var a in n)"default"!==a&&function(e){r.d(t,e,(function(){return n[e]}))}(a);r("1a5f");var s,c=r("f0c5"),u=Object(c["a"])(n["default"],i["b"],i["c"],!1,null,"8534b584",null,!1,i["a"],s);t["default"]=u.exports},"915c":function(e,t,r){"use strict";r.r(t);var i=r("96fd"),n=r.n(i);for(var a in i)"default"!==a&&function(e){r.d(t,e,(function(){return i[e]}))}(a);t["default"]=n.a},"96fd":function(e,t,r){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=s(r("4795")),n=s(r("e9e1")),a=s(r("d27c"));r("2f62");function s(e){return e&&e.__esModule?e:{default:e}}function c(e,t,r,i,n,a,s){try{var c=e[a](s),u=c.value}catch(o){return void r(o)}c.done?t(u):Promise.resolve(u).then(i,n)}function u(e){return function(){var t=this,r=arguments;return new Promise((function(i,n){var a=e.apply(t,r);function s(e){c(a,i,n,s,u,"next",e)}function u(e){c(a,i,n,s,u,"throw",e)}s(void 0)}))}}var o=function(){r.e("components/list-cell/list-cell").then(function(){return resolve(r("478d"))}.bind(null,r)).catch(r.oe)},d={data:function(){return{proviceArr:[],cityArr:[],districtArr:[],value:[0,0,0],iconHidden:!0,showPickerStatus:!1,text:["福建省","福州市","鼓楼区"],searchKey:"",formParams:{area:"350102",receiving_user:"",receiving_mobile:"",detailed_address:"",type:0},formParamsRule:[{name:"receiving_user",checkType:"string",checkRule:"1,",errorMsg:"请填写收货人姓名"},{name:"area",checkType:"string",checkRule:"1,",errorMsg:"请选择地址"},{name:"detailed_address",checkType:"string",checkRule:"1,",errorMsg:"请填写详细地址"},{name:"receiving_mobile",checkType:"phoneno",checkRule:"1,",errorMsg:"请输入正确收货人手机号"}],loading:!1,addressDetail:""}},onLoad:function(){this.proviceArr=this.toArr(n.default),this.cityArr=this.toArr(n.default[0].children),this.districtArr=this.toArr(n.default[0].children[0].children),this.addressDetail=this.text.join(",")},components:{tuiListCell:o},methods:{toArr:function(e){var t=[];for(var r in e)t.push(e[r].name);return t},columnPicker:function(e){var t=e.detail.value;this.value[0]!==t[0]?(this.proviceArr=this.proviceArr,this.cityArr=this.toArr(n.default[t[0]].children),this.districtArr=this.toArr(n.default[t[0]].children[0].children),this.value=[t[0],0,0]):this.value[1]!==t[1]?(this.proviceArr=this.proviceArr,this.cityArr=this.cityArr,this.districtArr=this.toArr(n.default[t[0]].children[t[1]].children),this.value=[t[0],t[1],0]):this.value=t},picker:function(e){var t=this.value;if(n.default.length>0){var r=n.default[t[0]].name,i=n.default[t[0]].children[t[1]].name,a=n.default[t[0]].children[t[1]].children[t[2]].name;this.text=[r,i,a],console.log(n.default[t[0]].children[t[1]].children[t[2]]);var s=n.default[t[0]].children[t[1]].children[t[2]].id;console.log(r,i,a),this.formParams.area=s,this.addressDetail=r+","+i+","+a,this.showPickerStatus=!1}},showPicker:function(){this.showPickerStatus=!0},hidePicker:function(){this.showPickerStatus=!1},_save:function(){this.formParams.detailed_address=this.addressDetail;var e=a.default.check(this.formParams,this.formParamsRule);e?this._createAdress():this.$ui.toast(a.default.error)},_createAdress:function(){var t=this;return u(i.default.mark((function r(){var n,a;return i.default.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return n=t,r.prev=1,t.loading=!0,r.next=5,t.$api.addAddress(t.formParams,!1);case 5:a=r.sent,t.loading=!1,a.Success?(n.$ui.toast("新建地址成功"),e.$emit("refresh_address"),e.$emit("refresh_addressList"),setTimeout((function(){e.navigateBack({})}),1e3)):n.$ui.toast(a.Msg),r.next=13;break;case 10:r.prev=10,r.t0=r["catch"](1),console.log("请求结果false : "+r.t0);case 13:case"end":return r.stop()}}),r,null,[[1,10]])})))()}}};t.default=d}).call(this,r("543d")["default"])},c006:function(e,t,r){"use strict";var i,n=function(){var e=this,t=e.$createElement;e._self._c},a=[];r.d(t,"b",(function(){return n})),r.d(t,"c",(function(){return a})),r.d(t,"a",(function(){return i}))},da39:function(e,t,r){"use strict";(function(e){r("1f76");i(r("66fd"));var t=i(r("24ca"));function i(e){return e&&e.__esModule?e:{default:e}}e(t.default)}).call(this,r("543d")["createPage"])},ea36:function(e,t,r){}},[["da39","common/runtime","common/vendor"]]]);