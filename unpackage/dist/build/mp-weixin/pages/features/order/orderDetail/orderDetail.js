(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/features/order/orderDetail/orderDetail"],{"391c":function(e,t,n){"use strict";var a={tuiSkeleton:function(){return n.e("components/tui-skeleton/tui-skeleton").then(n.bind(null,"4f5b"))},PayPanel:function(){return n.e("components/PayPanel/PayPanel").then(n.bind(null,"3c8c"))}},r=function(){var e=this,t=e.$createElement,n=(e._self._c,e._f("orderStatusFilter")(e.item.order_status)),a=e._f("payTypeFilter")(e.item.payType),r=e._f("payTypeFilter")(e.item.payType);e.$mp.data=Object.assign({},{$root:{f0:n,f1:a,f2:r}})},o=[];n.d(t,"b",(function(){return r})),n.d(t,"c",(function(){return o})),n.d(t,"a",(function(){return a}))},"549a":function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=o(n("4795")),r=(o(n("4c07")),o(n("2151")));function o(e){return e&&e.__esModule?e:{default:e}}function c(e,t,n,a,r,o,c){try{var i=e[o](c),u=i.value}catch(s){return void n(s)}i.done?t(u):Promise.resolve(u).then(a,r)}function i(e){return function(){var t=this,n=arguments;return new Promise((function(a,r){var o=e.apply(t,n);function i(e){c(o,a,r,i,u,"next",e)}function u(e){c(o,a,r,i,u,"throw",e)}i(void 0)}))}}var u=function(){n.e("components/tui-skeleton/tui-skeleton").then(function(){return resolve(n("4f5b"))}.bind(null,n)).catch(n.oe)},s=function(){n.e("components/list-view/list-view").then(function(){return resolve(n("d639"))}.bind(null,n)).catch(n.oe)},l=function(){n.e("components/list-cell/list-cell").then(function(){return resolve(n("d87e"))}.bind(null,n)).catch(n.oe)},f=function(){n.e("components/PayPanel/PayPanel").then(function(){return resolve(n("3c8c"))}.bind(null,n)).catch(n.oe)},d={data:function(){return{item:"",loading1:!1,loading2:!1,formParams:{order_code:"",ems_code:""},oderId:"",payParams:{pay_type:0,pay_source:0,order_num:""},skeletonShow:!0}},onLoad:function(t){this.formParams.order_code=t.code,this.payParams.order_num=t.code;var n=this;e.$on("refresh_orderDetail",(function(){n.loadData()}))},onShow:function(){this.loadData()},computed:{statusText:function(){var e="";switch(parseInt(this.item.order_status)){case 0:e="请你尽快完成订单付款";break;case 1:e="卖家将在48小时内发货";break;case 2:e="商品已经在运送途中,请保持手机畅通";break;case 3:e="您已确认签收货物";break;case 4:e="等待商家退款";break;case 5:e="交易已成功";break;default:e="交易已关闭";break}return e}},components:{tuiListCell:l,tuiSkeleton:u,tuiListView:s,PayPanel:f},methods:{sure:function(e){var t=this;return i(a.default.mark((function n(){var r,o,c;return a.default.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return r=t,n.prev=1,o={order_code:e},n.next=5,t.$api.Receiving(o,!1);case 5:c=n.sent,c.Success?(r.$ui.toast("收货成功"),setTimeout((function(){r.loadData()}),1e3)):r.$ui.toast(c.Msg),callback&&callback(),n.next=13;break;case 10:n.prev=10,n.t0=n["catch"](1),console.log("请求结果false : "+n.t0);case 13:case"end":return n.stop()}}),n,null,[[1,10]])})))()},prompt:function(e){var t=this;return i(a.default.mark((function n(){var r,o,c;return a.default.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return r=t,n.prev=1,o={order_code:e},t.$ui.showloading(),n.next=6,t.$api.Prompt(o);case 6:c=n.sent,t.$ui.hideloading(),c.Success?(r.$ui.toast("提醒发货成功"),r.refresh()):r.$ui.toast(c.Msg),n.next=14;break;case 11:n.prev=11,n.t0=n["catch"](1),console.log("请求结果false : "+n.t0);case 14:case"end":return n.stop()}}),n,null,[[1,11]])})))()},scan:function(t){e.navigateTo({url:"/pages/features/ems/ems?orderCode="+t})},_call:function(){e.makePhoneCall({phoneNumber:this.item.seller_phone})},_copy:function(t){var n=t,a=(0,r.default)(n);!1===a?e.showToast({title:"不支持"}):e.showToast({title:"复制成功",icon:"none"})},_refundDetail:function(t){console.log(111,t),e.navigateTo({url:"/pages/features/refundDetail/refundDetail?code="+t.refund_code})},_hrefStore:function(t){e.switchTab({url:"/pages/main/main"})},_hrefPro:function(t){e.navigateTo({url:"/pages/main/details/details?code="+t})},_refund:function(t){this.$store.commit("currenPro",t),0!=this.item.order_status&&(1==this.item.order_status?e.navigateTo({url:"/pages/features/refundApply/refundApply?type=0"}):e.navigateTo({url:"/pages/features/refundAction/refundAction"}))},imageLoad:function(e){this.$set(this.item,"load",!0)},loadError:function(e){this.item.project_img="/static/img/noPic.jpg"},loadData:function(e){var t=this;return i(a.default.mark((function n(){var r,o,c;return a.default.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return r=t,n.prev=1,o={order_code:t.formParams.order_code},n.next=5,t.$api.getOrderDetail(o,!1);case 5:c=n.sent,c.Success?(c.Data&&(r.item=c.Data,r.formParams.ems_code=c.Data.ems_code,r.oderId=c.Data.order_code),r.skeletonShow=!1):r.$ui.toast(c.Msg),e&&e(),n.next=13;break;case 10:n.prev=10,n.t0=n["catch"](1),console.log("请求结果false : "+n.t0);case 13:case"end":return n.stop()}}),n,null,[[1,10]])})))()},_readyToPay:function(){this.$refs.payPanel._show()},cancelOrder:function(){var t=this;return i(a.default.mark((function n(){var r,o;return a.default.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return r=t,n.prev=1,r.$ui.showloading(),n.next=5,t.$api.CancelOrder({order_code:r.payParams.order_num});case 5:o=n.sent,r.$ui.hideloading(),o.Success?(r.$ui.toast("取消成功"),setTimeout((function(){e.$emit("refresh_order"),e.navigateBack({})}),500)):r.$ui.toast(o.Msg),n.next=13;break;case 10:n.prev=10,n.t0=n["catch"](1),console.log("请求结果false : "+n.t0);case 13:case"end":return n.stop()}}),n,null,[[1,10]])})))()},success:function(){this.loadData()},cancel:function(){}}};t.default=d}).call(this,n("543d")["default"])},"668a":function(e,t,n){"use strict";n.r(t);var a=n("549a"),r=n.n(a);for(var o in a)"default"!==o&&function(e){n.d(t,e,(function(){return a[e]}))}(o);t["default"]=r.a},"79f2":function(e,t,n){"use strict";(function(e){n("6b7d");a(n("66fd"));var t=a(n("9a9e"));function a(e){return e&&e.__esModule?e:{default:e}}e(t.default)}).call(this,n("543d")["createPage"])},"9a9e":function(e,t,n){"use strict";n.r(t);var a=n("391c"),r=n("668a");for(var o in r)"default"!==o&&function(e){n.d(t,e,(function(){return r[e]}))}(o);n("caa2");var c,i=n("f0c5"),u=Object(i["a"])(r["default"],a["b"],a["c"],!1,null,"9d7969c8",null,!1,a["a"],c);t["default"]=u.exports},caa2:function(e,t,n){"use strict";var a=n("f930"),r=n.n(a);r.a},f930:function(e,t,n){}},[["79f2","common/runtime","common/vendor"]]]);