(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/features/order/orderDetail/orderDetail"],{"304a":function(e,t,n){},"32cf":function(e,t,n){"use strict";n.r(t);var r=n("e6f7"),a=n.n(r);for(var o in r)"default"!==o&&function(e){n.d(t,e,(function(){return r[e]}))}(o);t["default"]=a.a},"3c7c":function(e,t,n){"use strict";var r={tuiSkeleton:function(){return n.e("components/tui-skeleton/tui-skeleton").then(n.bind(null,"5649"))},PayPanel:function(){return n.e("components/PayPanel/PayPanel").then(n.bind(null,"d1e2"))},accredit:function(){return n.e("components/accredit/accredit").then(n.bind(null,"7380"))}},a=function(){var e=this,t=e.$createElement,n=(e._self._c,e._f("orderStatusFilter")(e.item.order_status)),r=e._f("payTypeFilter")(e.item.pay_type);e.$mp.data=Object.assign({},{$root:{f0:n,f1:r}})},o=[];n.d(t,"b",(function(){return a})),n.d(t,"c",(function(){return o})),n.d(t,"a",(function(){return r}))},"70b7":function(e,t,n){"use strict";n.r(t);var r=n("3c7c"),a=n("32cf");for(var o in a)"default"!==o&&function(e){n.d(t,e,(function(){return a[e]}))}(o);n("fd89");var c,i=n("f0c5"),s=Object(i["a"])(a["default"],r["b"],r["c"],!1,null,"20fff992",null,!1,r["a"],c);t["default"]=s.exports},e6f7:function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=o(n("4795")),a=(o(n("152e")),n("2f62"));function o(e){return e&&e.__esModule?e:{default:e}}function c(e,t,n,r,a,o,c){try{var i=e[o](c),s=i.value}catch(u){return void n(u)}i.done?t(s):Promise.resolve(s).then(r,a)}function i(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){c(o,r,a,i,s,"next",e)}function s(e){c(o,r,a,i,s,"throw",e)}i(void 0)}))}}function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach((function(t){l(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var f=function(){n.e("components/tui-skeleton/tui-skeleton").then(function(){return resolve(n("5649"))}.bind(null,n)).catch(n.oe)},d=function(){n.e("components/list-view/list-view").then(function(){return resolve(n("369d"))}.bind(null,n)).catch(n.oe)},p=function(){n.e("components/list-cell/list-cell").then(function(){return resolve(n("478d"))}.bind(null,n)).catch(n.oe)},h=function(){n.e("components/PayPanel/PayPanel").then(function(){return resolve(n("d1e2"))}.bind(null,n)).catch(n.oe)},m=e.getStorageSync("global_Set_jll"),v={data:function(){return{item:"",loading1:!1,loading2:!1,formParams:{order_code:"",ems_code:""},oderId:"",payParams:{pay_type:0,pay_source:0,order_num:""},skeletonShow:!0,showPickerStatus:!1,is_inster:0,date:"",tex:0}},onLoad:function(t){this.formParams.order_code=t.code,this.payParams.order_num=t.code,this.tex=100*m.taxes_ratio,this.is_inster=m.is_inster;var n=this;e.$on("refresh_orderDetail",(function(){n.loadData()}))},onShow:function(){this.loadData()},computed:u({},(0,a.mapState)(["ifx"]),{statusText:function(){var e="";switch(parseInt(this.item.order_status)){case 0:e="请你尽快完成订单付款";break;case 1:e="卖家将在48小时内发货";break;case 2:e="商品已经在运送途中,请保持手机畅通";break;case 3:e="您已确认签收货物";break;case 4:e="等待商家退款";break;case 5:e="交易已成功";break;default:e="交易已关闭";break}return e},startDate:function(){return console.log(this.getDate("start")),this.getDate("start")},endDate:function(){return console.log(this.getDate("end")),this.getDate("end")}}),components:{tuiListCell:p,tuiSkeleton:f,tuiListView:d,PayPanel:h},methods:{_kefuMenu:function(){this.$refs.kf.showModal()},_kefu:function(){var t=e.getStorageSync("global_Set_jll").service_mobile,n=this;this.$refs.kf.hideModal(),e.showModal({title:"GLLO健康智能马桶提醒你",content:"立即致电官方客服？",success:function(r){n.show=!1,r.confirm?e.makePhoneCall({phoneNumber:t}):r.cancel&&console.log("用户点击取消")}})},getDate:function(e){var t=new Date,n=t.getFullYear(),r=t.getMonth()+1,a=t.getDate();return"start"===e?n=n:"end"===e&&(n+=2),r=r>9?r:"0"+r,a=a>9?a:"0"+a,"".concat(n,"-").concat(r,"-").concat(a)},bindDateChange:function(t){var n=this,r=t.detail.value;e.showModal({title:"GLLO健康智能马桶提醒您",content:"你将延迟该订单的发货时间",success:function(e){e.confirm?(console.log("用户点击确定"),n._beLast(r)):e.cancel&&console.log("用户点击取消")}})},_beLast:function(e){var t=this;return i(r.default.mark((function n(){var a,o,c;return r.default.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return a=t,n.prev=1,o={order_code:t.formParams.order_code,delay_ems_time:e},n.next=5,t.$api.Delayed(o,!1);case 5:c=n.sent,c.Success?(a.$ui.toast("延迟发货成功"),setTimeout((function(){a.loadData()}),1e3)):a.$ui.toast(c.Msg),callback&&callback(),n.next=13;break;case 10:n.prev=10,n.t0=n["catch"](1),console.log("请求结果false : "+n.t0);case 13:case"end":return n.stop()}}),n,null,[[1,10]])})))()},sure:function(e){var t=this;return i(r.default.mark((function n(){var a,o,c;return r.default.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return a=t,n.prev=1,o={order_code:e},n.next=5,t.$api.Receiving(o,!1);case 5:c=n.sent,c.Success?(a.$ui.toast("收货成功"),setTimeout((function(){a.loadData()}),1e3)):a.$ui.toast(c.Msg),callback&&callback(),n.next=13;break;case 10:n.prev=10,n.t0=n["catch"](1),console.log("请求结果false : "+n.t0);case 13:case"end":return n.stop()}}),n,null,[[1,10]])})))()},prompt:function(e){var t=this;return i(r.default.mark((function n(){var a,o,c;return r.default.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return a=t,n.prev=1,o={order_code:e},t.$ui.showloading(),n.next=6,t.$api.Prompt(o);case 6:c=n.sent,t.$ui.hideloading(),c.Success?(a.$ui.toast("提醒发货成功"),a.refresh()):a.$ui.toast(c.Msg),n.next=14;break;case 11:n.prev=11,n.t0=n["catch"](1),console.log("请求结果false : "+n.t0);case 14:case"end":return n.stop()}}),n,null,[[1,11]])})))()},scan:function(t){e.navigateTo({url:"/pages/features/ems/ems?orderCode="+t})},_call:function(){e.makePhoneCall({phoneNumber:this.item.seller_phone})},_copy:function(t){e.setClipboardData({data:t,success:function(){this.$ui.toast("复制成功")}})},_refundDetail:function(t){e.navigateTo({url:"/pages/features/refundDetail/refundDetail?code="+t.refund_code})},_hrefStore:function(t){e.switchTab({url:"/pages/main/main"})},_hrefPro:function(t){e.navigateTo({url:"/pages/main/details/details?code="+t})},_refund:function(t){this.$store.commit("currenPro",t),0!=this.item.order_status&&(1==this.item.order_status?e.navigateTo({url:"/pages/features/refundApply/refundApply?type=0"}):e.navigateTo({url:"/pages/features/refundAction/refundAction"}))},imageLoad:function(e){this.$set(this.item,"load",!0)},loadError:function(e){this.item.project_img="/static/img/noPic.jpg"},loadData:function(e){var t=this;return i(r.default.mark((function n(){var a,o,c;return r.default.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return a=t,n.prev=1,o={order_code:t.formParams.order_code,share_user_id:""},n.next=5,t.$api.getOrderDetail(o,!1);case 5:c=n.sent,c.Success?(c.Data&&(a.item=c.Data,a.formParams.ems_code=c.Data.ems_code,a.oderId=c.Data.order_code),a.skeletonShow=!1):a.$ui.toast(c.Msg),e&&e(),n.next=13;break;case 10:n.prev=10,n.t0=n["catch"](1),console.log("请求结果false : "+n.t0);case 13:case"end":return n.stop()}}),n,null,[[1,10]])})))()},_readyToPay:function(){var e=this;this.$refs.payPanel._show(e.formParams.order_code)},cancelOrder:function(){var t=this;return i(r.default.mark((function n(){var a,o;return r.default.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return a=t,n.prev=1,a.$ui.showloading(),n.next=5,t.$api.CancelOrder({order_code:a.payParams.order_num});case 5:o=n.sent,a.$ui.hideloading(),o.Success?(a.$ui.toast("取消成功"),setTimeout((function(){e.$emit("refresh_order"),e.navigateBack({})}),500)):a.$ui.toast(o.Msg),n.next=13;break;case 10:n.prev=10,n.t0=n["catch"](1),console.log("请求结果false : "+n.t0);case 13:case"end":return n.stop()}}),n,null,[[1,10]])})))()},success:function(){this.loadData()},cancel:function(){}}};t.default=v}).call(this,n("543d")["default"])},f65d:function(e,t,n){"use strict";(function(e){n("1f76");r(n("66fd"));var t=r(n("70b7"));function r(e){return e&&e.__esModule?e:{default:e}}e(t.default)}).call(this,n("543d")["createPage"])},fd89:function(e,t,n){"use strict";var r=n("304a"),a=n.n(r);a.a}},[["f65d","common/runtime","common/vendor"]]]);