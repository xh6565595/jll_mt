(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/main/details/details"],{"1da5":function(e,t,n){"use strict";var o={tuiSkeleton:function(){return n.e("components/tui-skeleton/tui-skeleton").then(n.bind(null,"4f5b"))},xhStoreParamsSKU:function(){return n.e("components/xhStoreParamsSKU/xhStoreParamsSKU").then(n.bind(null,"2f6f"))}},a=function(){var e=this,t=e.$createElement;e._self._c},i=[];n.d(t,"b",(function(){return a})),n.d(t,"c",(function(){return i})),n.d(t,"a",(function(){return o}))},5170:function(e,t,n){"use strict";var o=n("beb9"),a=n.n(o);a.a},"72d5":function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=a(n("4795"));n("2f62");function a(e){return e&&e.__esModule?e:{default:e}}function i(e,t,n,o,a,i,s){try{var r=e[i](s),c=r.value}catch(u){return void n(u)}r.done?t(c):Promise.resolve(c).then(o,a)}function s(e){return function(){var t=this,n=arguments;return new Promise((function(o,a){var s=e.apply(t,n);function r(e){i(s,o,a,r,c,"next",e)}function c(e){i(s,o,a,r,c,"throw",e)}r(void 0)}))}}var r=function(){n.e("components/tui-skeleton/tui-skeleton").then(function(){return resolve(n("4f5b"))}.bind(null,n)).catch(n.oe)},c=function(){n.e("components/numberbox/numberbox").then(function(){return resolve(n("6084"))}.bind(null,n)).catch(n.oe)},u=e.getStorageSync("global_Set_jll"),l=function(){n.e("components/xhStoreParamsSKU/xhStoreParamsSKU").then(function(){return resolve(n("2f6f"))}.bind(null,n)).catch(n.oe)},d={data:function(){return{list:[],index:1,business:{shipments_address:""},goods:"",banners:[],auction:"",skeletonShow:!0,formParams:{project_code:""},phoneNum:u.service_mobile,showAll:!1,modal:!1,payFlag:!1,time:null,content:"请您先登录",action:"login",animationData:"",details_img:"",paymentPwd:"",skuList:[],specifications:[],showModalStatus:!1,service1:"",service2:"",service3:"",endTime:"",platform:"android",activityInfo:""}},watch:{hasLogin:function(e,t){}},components:{tuiSkeleton:r,tuiNumberbox:c,xhStoreParamsSKU:l},onLoad:function(e){this.formParams.project_code=e.code,this._loadData("refresh")},onUnload:function(){clearInterval(this.time),this.time=null},computed:{hasLogin:function(){return!!this.$store.state.hasLogin&&this.$store.state.hasLogin},accountInfo:function(){return this.$store.state.accountInfo},restTimeValied:function(){var e=this.endTime;if(console.log(e),!e)return!1;var t=new Date(e).getTime(),n=(new Date).getTime();console.log(t);var o=t-n,a=o/1e3/60/60/24,i=Math.floor(a),s=o/1e3/60/60-24*i,r=Math.floor(s),c=o/1e3/60-1440*i-60*r,u=Math.floor(c),l=o/1e3-86400*i-3600*r-60*u,d=Math.floor(l),f={d:parseInt(i),h:parseInt(r),m:parseInt(u),s:parseInt(d)};return console.log(f),f}},methods:{_back:function(){e.navigateBack({})},cart:function(){e.switchTab({url:"/pages/cart/cart"})},home:function(){e.switchTab({url:"/pages/main/main"})},_phone:function(){e.showModal({title:"提示",content:"是否确定拨打商家电话",success:function(t){t.confirm?e.makePhoneCall({phoneNumber:u.service_mobile}):t.cancel&&console.log("用户点击取消")}})},_backTop:function(){e.pageScrollTo({scrollTop:0,duration:100})},_none:function(){},_toggleModal:function(){this.showModalStatus=!this.showModalStatus},addCard:function(e){this._addCard(e)},creatOrder:function(e){this._buy(e)},_next:function(){this.$refs.params.show()},hideModal:function(){this.showModalStatus=!1},_loadData:function(e,t){var n=this;return s(o.default.mark((function e(){var a,i;return o.default.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a=n,e.prev=1,e.next=4,n.$api.GetGoodsInfo(n.formParams);case 4:i=e.sent,i.Success?(a.business=i.Data.business,a.goods=i.Data.goods,a.auction=i.Data.auction,a.banners=i.Data.goods.project_img.split(","),a.details_img=i.Data.goods.details_img.split(","),a.service1=i.Data.projectService1,a.service2=i.Data.projectService2,a.service3=i.Data.projectService3,a.skuList=i.Data.skuList,a.specifications=i.Data.specList,1==a.goods.is_activity&&(a.activityInfo=i.Data.activityInfo,a.endTime=i.Data.activityInfo.end_date),a.skeletonShow&&(a.skeletonShow=!1)):a.$ui.toast(i.Msg),e.next=11;break;case 8:e.prev=8,e.t0=e["catch"](1),console.log("请求结果false : "+e.t0);case 11:t&&t();case 12:case"end":return e.stop()}}),e,null,[[1,8]])})))()},_buy:function(t){var n={id:t.id?t.id:"",difference:t.difference?t.difference.join(","):"",price:t.sellprice?t.sellprice:"",origin:t.origin?t.origin:"",stock:t.stock?t.stock:""},o={shop_name:this.business.shop_name,shop_logo:this.business.shop_logo,project_code:this.formParams.project_code,project_name:this.goods.project_name,project_img:this.banners[0],is_ems:this.goods.is_ems,project_parameter_type:this.goods.parameter_type,project_spec:n,project_price:this.goods.project_price,project_raise_price:this.goods.project_raise_price,project_num:t.selectNum,project_service1:t.goods_service_code.serve1,project_service2:t.goods_service_code.serve2,project_service3:t.goods_service_code.serve3};this.$store.commit("creatOrder",[o]),e.navigateTo({url:"/pages/features/createOrder/createOrder?type=0"})},cancelPass:function(){this.payFlag=!1},checkPwd:function(e){e||that.$ui.toast("取消购买")},handleClick:function(t){var n=t.index;if(0===n);else switch(this.action){case"login":e.navigateTo({url:"/pages/role/login/login"});break;case"authentication":e.navigateTo({url:"/pages/features/authentication/authentication"});break;case"payPass":e.navigateTo({url:"/pages/user/setPayPass/setPayPass"});break;default:break}this.modal=!1}}};t.default=d}).call(this,n("543d")["default"])},beb9:function(e,t,n){},d183:function(e,t,n){"use strict";(function(e){n("6b7d");o(n("66fd"));var t=o(n("dcc6"));function o(e){return e&&e.__esModule?e:{default:e}}e(t.default)}).call(this,n("543d")["createPage"])},d273:function(e,t,n){"use strict";n.r(t);var o=n("72d5"),a=n.n(o);for(var i in o)"default"!==i&&function(e){n.d(t,e,(function(){return o[e]}))}(i);t["default"]=a.a},dcc6:function(e,t,n){"use strict";n.r(t);var o=n("1da5"),a=n("d273");for(var i in a)"default"!==i&&function(e){n.d(t,e,(function(){return a[e]}))}(i);n("5170");var s,r=n("f0c5"),c=Object(r["a"])(a["default"],o["b"],o["c"],!1,null,"1745762a",null,!1,o["a"],s);t["default"]=c.exports}},[["d183","common/runtime","common/vendor"]]]);