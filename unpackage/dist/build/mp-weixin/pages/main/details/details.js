(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/main/details/details"],{"12b2":function(e,t,r){"use strict";r.r(t);var o=r("4a90"),n=r.n(o);for(var a in o)"default"!==a&&function(e){r.d(t,e,(function(){return o[e]}))}(a);t["default"]=n.a},"1a1d":function(e,t,r){},"4a90":function(e,t,r){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=a(r("4795")),n=r("2f62");function a(e){return e&&e.__esModule?e:{default:e}}function s(e,t,r,o,n,a,s){try{var i=e[a](s),c=i.value}catch(u){return void r(u)}i.done?t(c):Promise.resolve(c).then(o,n)}function i(e){return function(){var t=this,r=arguments;return new Promise((function(o,n){var a=e.apply(t,r);function i(e){s(a,o,n,i,c,"next",e)}function c(e){s(a,o,n,i,c,"throw",e)}i(void 0)}))}}function c(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,o)}return r}function u(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?c(Object(r),!0).forEach((function(t){l(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):c(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function l(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var f=function(){r.e("components/tui-skeleton/tui-skeleton").then(function(){return resolve(r("5649"))}.bind(null,r)).catch(r.oe)},d=function(){r.e("components/numberbox/numberbox").then(function(){return resolve(r("4a7a"))}.bind(null,r)).catch(r.oe)},h=e.getStorageSync("global_Set_jll"),p=function(){r.e("components/xhStoreParamsSKU/xhStoreParamsSKU").then(function(){return resolve(r("9ae7"))}.bind(null,r)).catch(r.oe)},m={data:function(){return{list:[],index:1,business:{shipments_address:""},goods:"",banners:[],auction:"",skeletonShow:!0,formParams:{project_code:"",share_user_id:""},phoneNum:h.service_mobile,showAll:!1,modal:!1,payFlag:!1,time:null,content:"请您先登录",action:"login",animationData:"",details_img:"",paymentPwd:"",skuList:[],specifications:[],showModalStatus:!1,service1:"",service2:"",service3:"",endTime:"",platform:"android",share_consumer_info:"",activityInfo:"",shareActive:!1,selfBuy:!1,selfOrder:""}},watch:{hasLogin:function(e,t){}},components:{tuiSkeleton:f,tuiNumberbox:d,xhStoreParamsSKU:p},onLoad:function(e){this.formParams.project_code=e.code,this.formParams.share_user_id=this.shareUser,this.selfOrder=e.order,e.code==this.sharePro&&(this.shareActive=!0),"self"==e.type&&e.order&&(this.shareActive=!0,this.selfBuy=!0,this.formParams.project_code=e.code,this.formParams.share_user_id=this.shareUser),this._loadData("refresh")},onUnload:function(){clearInterval(this.time),this.time=null},computed:u({},(0,n.mapState)(["shareUser","sharePro","shareOrder","userInfo"]),{restTimeValied:function(){var e=this.endTime;if(console.log(e),!e)return!1;var t=new Date(e).getTime(),r=(new Date).getTime();console.log(t);var o=t-r,n=o/1e3/60/60/24,a=Math.floor(n),s=o/1e3/60/60-24*a,i=Math.floor(s),c=o/1e3/60-1440*a-60*i,u=Math.floor(c),l=o/1e3-86400*a-3600*i-60*u,f=Math.floor(l),d={d:parseInt(a),h:parseInt(i),m:parseInt(u),s:parseInt(f)};return d}}),methods:{_back:function(){e.navigateBack({})},cart:function(){e.switchTab({url:"/pages/cart/cart"})},home:function(){e.switchTab({url:"/pages/main/main"})},_phone:function(){e.showModal({title:"提示",content:"是否确定拨打商家电话",success:function(t){t.confirm?e.makePhoneCall({phoneNumber:h.service_mobile}):t.cancel&&console.log("用户点击取消")}})},_backTop:function(){e.pageScrollTo({scrollTop:0,duration:100})},_none:function(){},_toggleModal:function(){this.showModalStatus=!this.showModalStatus},addCard:function(e){this._addCard(e)},creatOrder:function(e){this._buy(e)},_next:function(){this.$refs.params.show()},hideModal:function(){this.showModalStatus=!1},_loadData:function(e,t){var r=this;return i(o.default.mark((function e(){var n,a;return o.default.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=r,e.prev=1,e.next=4,r.$api.GetGoodsInfo(r.formParams);case 4:a=e.sent,a.Success?(n.business=a.Data.business,n.goods=a.Data.goods,n.auction=a.Data.auction,n.banners=a.Data.goods.project_img.split(","),n.details_img=a.Data.goods.details_img.split(","),n.service1=a.Data.projectService1,n.service2=a.Data.projectService2,n.service3=a.Data.projectService3,n.share_consumer_info=a.Data.share_consumer_info,n.skuList=a.Data.skuList,n.specifications=a.Data.specList,1==n.goods.is_activity&&(n.activityInfo=a.Data.activityInfo,n.endTime=a.Data.activityInfo.end_date),n.skeletonShow&&(n.skeletonShow=!1)):n.$ui.toast(a.Msg),e.next=11;break;case 8:e.prev=8,e.t0=e["catch"](1),console.log("请求结果false : "+e.t0);case 11:t&&t();case 12:case"end":return e.stop()}}),e,null,[[1,8]])})))()},_buy:function(t){var r={id:t.id?t.id:"",difference:t.difference?t.difference.join(","):"",price:t.sellprice?t.sellprice:"",origin:t.origin?t.origin:"",stock:t.stock?t.stock:""},o={shop_name:this.business.shop_name,shop_logo:this.business.shop_logo,project_code:this.formParams.project_code,project_name:this.goods.project_name,project_img:this.banners[0],is_ems:this.goods.is_ems,project_parameter_type:this.goods.parameter_type,project_spec:r,project_price:this.goods.project_price,project_raise_price:this.goods.project_raise_price,project_num:t.selectNum,project_service1:t.goods_service_code.serve1,project_service2:t.goods_service_code.serve2,project_service3:t.goods_service_code.serve3};this.$store.commit("creatOrder",[o]);var n="/pages/features/createOrder/createOrder?type=0";this.shareActive&&(this.selfBuy?n+="&shareOrder=".concat(this.selfOrder):n+="&shareOrder=".concat(this.shareOrder)),e.navigateTo({url:n})},cancelPass:function(){this.payFlag=!1},checkPwd:function(e){e||that.$ui.toast("取消购买")},handleClick:function(t){var r=t.index;if(0===r);else switch(this.action){case"login":e.navigateTo({url:"/pages/role/login/login"});break;case"authentication":e.navigateTo({url:"/pages/features/authentication/authentication"});break;case"payPass":e.navigateTo({url:"/pages/user/setPayPass/setPayPass"});break;default:break}this.modal=!1}}};t.default=m}).call(this,r("543d")["default"])},5768:function(e,t,r){"use strict";var o=r("1a1d"),n=r.n(o);n.a},"8bfa":function(e,t,r){"use strict";(function(e){r("1f76");o(r("66fd"));var t=o(r("b12b"));function o(e){return e&&e.__esModule?e:{default:e}}e(t.default)}).call(this,r("543d")["createPage"])},"960b":function(e,t,r){"use strict";var o={tuiSkeleton:function(){return r.e("components/tui-skeleton/tui-skeleton").then(r.bind(null,"5649"))},xhStoreParamsSKU:function(){return r.e("components/xhStoreParamsSKU/xhStoreParamsSKU").then(r.bind(null,"9ae7"))}},n=function(){var e=this,t=e.$createElement;e._self._c},a=[];r.d(t,"b",(function(){return n})),r.d(t,"c",(function(){return a})),r.d(t,"a",(function(){return o}))},b12b:function(e,t,r){"use strict";r.r(t);var o=r("960b"),n=r("12b2");for(var a in n)"default"!==a&&function(e){r.d(t,e,(function(){return n[e]}))}(a);r("5768");var s,i=r("f0c5"),c=Object(i["a"])(n["default"],o["b"],o["c"],!1,null,"fb7e753c",null,!1,o["a"],s);t["default"]=c.exports}},[["8bfa","common/runtime","common/vendor"]]]);