(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/main/details/details"],{"114b":function(e,t,o){"use strict";var r=o("d180"),n=o.n(r);n.a},"12b2":function(e,t,o){"use strict";o.r(t);var r=o("4a90"),n=o.n(r);for(var a in r)"default"!==a&&function(e){o.d(t,e,(function(){return r[e]}))}(a);t["default"]=n.a},"4a90":function(e,t,o){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(o("4795")),n=o("2f62");function a(e){return e&&e.__esModule?e:{default:e}}function s(e,t,o,r,n,a,s){try{var i=e[a](s),c=i.value}catch(u){return void o(u)}i.done?t(c):Promise.resolve(c).then(r,n)}function i(e){return function(){var t=this,o=arguments;return new Promise((function(r,n){var a=e.apply(t,o);function i(e){s(a,r,n,i,c,"next",e)}function c(e){s(a,r,n,i,c,"throw",e)}i(void 0)}))}}function c(e,t){var o=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),o.push.apply(o,r)}return o}function u(e){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{};t%2?c(Object(o),!0).forEach((function(t){l(e,t,o[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):c(Object(o)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(o,t))}))}return e}function l(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}var f=function(){o.e("components/tui-skeleton/tui-skeleton").then(function(){return resolve(o("5649"))}.bind(null,o)).catch(o.oe)},d=function(){o.e("components/numberbox/numberbox").then(function(){return resolve(o("4a7a"))}.bind(null,o)).catch(o.oe)},h=e.getStorageSync("global_Set_jll"),p=function(){o.e("components/xhStoreParamsSKU/xhStoreParamsSKU").then(function(){return resolve(o("9ae7"))}.bind(null,o)).catch(o.oe)},m={data:function(){return{list:[],index:1,business:{shipments_address:""},goods:"",banners:[],auction:"",skeletonShow:!0,formParams:{project_code:"",share_user_id:""},phoneNum:h.service_mobile,showAll:!1,modal:!1,payFlag:!1,time:null,content:"请您先登录",action:"login",animationData:"",details_img:"",paymentPwd:"",skuList:[],specifications:[],showModalStatus:!1,service1:"",service2:"",service3:"",endTime:"",platform:"android",share_consumer_info:"",activityInfo:"",shareActive:!1,selfBuy:!1,selfOrder:""}},watch:{hasLogin:function(e,t){}},components:{tuiSkeleton:f,tuiNumberbox:d,xhStoreParamsSKU:p},onLoad:function(e){this.formParams.project_code=e.code,this.formParams.share_user_id=this.shareUser,this.selfOrder=e.order,e.code==this.sharePro&&(this.shareActive=!0),"self"==e.type&&e.order&&(this.shareActive=!0,this.selfBuy=!0,this.formParams.project_code=e.code,this.formParams.share_user_id=this.shareUser),this._loadData("refresh")},onUnload:function(){clearInterval(this.time),this.time=null},computed:u({},(0,n.mapState)(["shareUser","sharePro","shareOrder","userInfo","hasLogin","ifx"]),{restTimeValied:function(){var e=this.endTime;if(console.log(e),!e)return!1;var t=new Date(e).getTime(),o=(new Date).getTime();console.log(t);var r=t-o,n=r/1e3/60/60/24,a=Math.floor(n),s=r/1e3/60/60-24*a,i=Math.floor(s),c=r/1e3/60-1440*a-60*i,u=Math.floor(c),l=r/1e3-86400*a-3600*i-60*u,f=Math.floor(l),d={d:parseInt(a),h:parseInt(i),m:parseInt(u),s:parseInt(f)};return d}}),methods:{_back:function(){e.switchTab({url:"/pages/main/main"})},cart:function(){e.switchTab({url:"/pages/cart/cart"})},home:function(){e.switchTab({url:"/pages/main/main"})},_phone:function(){e.showModal({title:"提示",content:"是否确定拨打商家电话",success:function(t){t.confirm?e.makePhoneCall({phoneNumber:h.service_mobile}):t.cancel&&console.log("用户点击取消")}})},_backTop:function(){e.pageScrollTo({scrollTop:0,duration:100})},_none:function(){},_toggleModal:function(){this.showModalStatus=!this.showModalStatus},addCard:function(e){this._addCard(e)},creatOrder:function(e){this._buy(e)},_next:function(){this.hasLogin?this.$refs.params.show():e.navigateTo({url:"/pages/login/login"})},hideModal:function(){this.showModalStatus=!1},_loadData:function(e,t){var o=this;return i(r.default.mark((function e(){var n,a;return r.default.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=o,e.prev=1,e.next=4,o.$api.GetGoodsInfo(o.formParams);case 4:a=e.sent,a.Success?(n.business=a.Data.business,n.goods=a.Data.goods,n.auction=a.Data.auction,n.banners=a.Data.goods.project_img.split(","),n.details_img=a.Data.goods.details_img.split(","),n.service1=a.Data.projectService1,n.service2=a.Data.projectService2,n.service3=a.Data.projectService3,n.share_consumer_info=a.Data.share_consumer_info,n.skuList=a.Data.skuList,n.specifications=a.Data.specList,1==n.goods.is_activity&&(n.activityInfo=a.Data.activityInfo,n.endTime=a.Data.activityInfo.end_date),n.skeletonShow&&(n.skeletonShow=!1)):n.$ui.toast(a.Msg),e.next=11;break;case 8:e.prev=8,e.t0=e["catch"](1),console.log("请求结果false : "+e.t0);case 11:t&&t();case 12:case"end":return e.stop()}}),e,null,[[1,8]])})))()},_buy:function(t){var o={id:t.id?t.id:"",difference:t.difference?t.difference.join(","):"",price:t.sellprice?t.sellprice:"",origin:t.origin?t.origin:"",stock:t.stock?t.stock:""},r={shop_name:this.business.shop_name,shop_logo:this.business.shop_logo,project_code:this.formParams.project_code,project_name:this.goods.project_name,project_img:this.banners[0],is_ems:this.goods.is_ems,project_parameter_type:this.goods.parameter_type,project_spec:o,project_price:this.goods.project_price,project_raise_price:this.goods.project_raise_price,project_num:t.selectNum,project_service1:t.goods_service_code.serve1,project_service2:t.goods_service_code.serve2,project_service3:t.goods_service_code.serve3};this.$store.commit("creatOrder",[r]);var n="/pages/features/createOrder/createOrder?type=0";this.shareActive&&(this.selfBuy?n+="&shareOrder=".concat(this.selfOrder):n+="&shareOrder=".concat(this.shareOrder)),e.navigateTo({url:n})},cancelPass:function(){this.payFlag=!1},checkPwd:function(e){e||that.$ui.toast("取消购买")},handleClick:function(t){var o=t.index;if(0===o);else switch(this.action){case"login":e.navigateTo({url:"/pages/role/login/login"});break;case"authentication":e.navigateTo({url:"/pages/features/authentication/authentication"});break;case"payPass":e.navigateTo({url:"/pages/user/setPayPass/setPayPass"});break;default:break}this.modal=!1}}};t.default=m}).call(this,o("543d")["default"])},"6d09":function(e,t,o){"use strict";var r={tuiSkeleton:function(){return o.e("components/tui-skeleton/tui-skeleton").then(o.bind(null,"5649"))},xhStoreParamsSKU:function(){return o.e("components/xhStoreParamsSKU/xhStoreParamsSKU").then(o.bind(null,"9ae7"))}},n=function(){var e=this,t=e.$createElement;e._self._c},a=[];o.d(t,"b",(function(){return n})),o.d(t,"c",(function(){return a})),o.d(t,"a",(function(){return r}))},"8bfa":function(e,t,o){"use strict";(function(e){o("1f76");r(o("66fd"));var t=r(o("b12b"));function r(e){return e&&e.__esModule?e:{default:e}}e(t.default)}).call(this,o("543d")["createPage"])},b12b:function(e,t,o){"use strict";o.r(t);var r=o("6d09"),n=o("12b2");for(var a in n)"default"!==a&&function(e){o.d(t,e,(function(){return n[e]}))}(a);o("114b");var s,i=o("f0c5"),c=Object(i["a"])(n["default"],r["b"],r["c"],!1,null,"4e8c0b59",null,!1,r["a"],s);t["default"]=c.exports},d180:function(e,t,o){}},[["8bfa","common/runtime","common/vendor"]]]);