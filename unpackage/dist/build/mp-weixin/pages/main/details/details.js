(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/main/details/details"],{"12b2":function(e,t,n){"use strict";n.r(t);var o=n("4a90"),r=n.n(o);for(var a in o)"default"!==a&&function(e){n.d(t,e,(function(){return o[e]}))}(a);t["default"]=r.a},"4a90":function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=a(n("4795")),r=n("2f62");function a(e){return e&&e.__esModule?e:{default:e}}function i(e,t,n,o,r,a,i){try{var s=e[a](i),c=s.value}catch(u){return void n(u)}s.done?t(c):Promise.resolve(c).then(o,r)}function s(e){return function(){var t=this,n=arguments;return new Promise((function(o,r){var a=e.apply(t,n);function s(e){i(a,o,r,s,c,"next",e)}function c(e){i(a,o,r,s,c,"throw",e)}s(void 0)}))}}function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach((function(t){l(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var f=function(){n.e("components/tui-skeleton/tui-skeleton").then(function(){return resolve(n("5649"))}.bind(null,n)).catch(n.oe)},d=function(){n.e("components/numberbox/numberbox").then(function(){return resolve(n("4a7a"))}.bind(null,n)).catch(n.oe)},h=e.getStorageSync("global_Set_jll"),p=function(){n.e("components/xhStoreParamsSKU/xhStoreParamsSKU").then(function(){return resolve(n("9ae7"))}.bind(null,n)).catch(n.oe)},m={data:function(){return{list:[],index:1,business:{shipments_address:""},goods:"",banners:[],auction:"",skeletonShow:!0,formParams:{project_code:"",share_user_id:""},phoneNum:h.service_mobile,showAll:!1,modal:!1,payFlag:!1,time:null,content:"请您先登录",action:"login",animationData:"",details_img:"",paymentPwd:"",skuList:[],specifications:[],showModalStatus:!1,service1:"",service2:"",service3:"",endTime:"",platform:"android",share_consumer_info:"",activityInfo:"",shareActive:!1}},watch:{hasLogin:function(e,t){}},components:{tuiSkeleton:f,tuiNumberbox:d,xhStoreParamsSKU:p},onLoad:function(e){this.formParams.project_code=e.code,this.formParams.share_user_id=this.shareUser,e.code==this.sharePro&&(this.shareActive=!0),this._loadData("refresh")},onUnload:function(){clearInterval(this.time),this.time=null},computed:u({},(0,r.mapState)(["shareUser","sharePro"]),{restTimeValied:function(){var e=this.endTime;if(console.log(e),!e)return!1;var t=new Date(e).getTime(),n=(new Date).getTime();console.log(t);var o=t-n,r=o/1e3/60/60/24,a=Math.floor(r),i=o/1e3/60/60-24*a,s=Math.floor(i),c=o/1e3/60-1440*a-60*s,u=Math.floor(c),l=o/1e3-86400*a-3600*s-60*u,f=Math.floor(l),d={d:parseInt(a),h:parseInt(s),m:parseInt(u),s:parseInt(f)};return d}}),methods:{_back:function(){e.navigateBack({})},cart:function(){e.switchTab({url:"/pages/cart/cart"})},home:function(){e.switchTab({url:"/pages/main/main"})},_phone:function(){e.showModal({title:"提示",content:"是否确定拨打商家电话",success:function(t){t.confirm?e.makePhoneCall({phoneNumber:h.service_mobile}):t.cancel&&console.log("用户点击取消")}})},_backTop:function(){e.pageScrollTo({scrollTop:0,duration:100})},_none:function(){},_toggleModal:function(){this.showModalStatus=!this.showModalStatus},addCard:function(e){this._addCard(e)},creatOrder:function(e){this._buy(e)},_next:function(){this.$refs.params.show()},hideModal:function(){this.showModalStatus=!1},_loadData:function(e,t){var n=this;return s(o.default.mark((function e(){var r,a;return o.default.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r=n,e.prev=1,e.next=4,n.$api.GetGoodsInfo(n.formParams);case 4:a=e.sent,a.Success?(r.business=a.Data.business,r.goods=a.Data.goods,r.auction=a.Data.auction,r.banners=a.Data.goods.project_img.split(","),r.details_img=a.Data.goods.details_img.split(","),r.service1=a.Data.projectService1,r.service2=a.Data.projectService2,r.service3=a.Data.projectService3,r.share_consumer_info=a.Data.share_consumer_info,r.skuList=a.Data.skuList,r.specifications=a.Data.specList,1==r.goods.is_activity&&(r.activityInfo=a.Data.activityInfo,r.endTime=a.Data.activityInfo.end_date),r.skeletonShow&&(r.skeletonShow=!1)):r.$ui.toast(a.Msg),e.next=11;break;case 8:e.prev=8,e.t0=e["catch"](1),console.log("请求结果false : "+e.t0);case 11:t&&t();case 12:case"end":return e.stop()}}),e,null,[[1,8]])})))()},_buy:function(t){var n={id:t.id?t.id:"",difference:t.difference?t.difference.join(","):"",price:t.sellprice?t.sellprice:"",origin:t.origin?t.origin:"",stock:t.stock?t.stock:""},o={shop_name:this.business.shop_name,shop_logo:this.business.shop_logo,project_code:this.formParams.project_code,project_name:this.goods.project_name,project_img:this.banners[0],is_ems:this.goods.is_ems,project_parameter_type:this.goods.parameter_type,project_spec:n,project_price:this.goods.project_price,project_raise_price:this.goods.project_raise_price,project_num:t.selectNum,project_service1:t.goods_service_code.serve1,project_service2:t.goods_service_code.serve2,project_service3:t.goods_service_code.serve3};this.$store.commit("creatOrder",[o]);var r="/pages/features/createOrder/createOrder?type=0";this.shareActive&&(r+="&shareUser=".concat(this.shareUser)),e.navigateTo({url:r})},cancelPass:function(){this.payFlag=!1},checkPwd:function(e){e||that.$ui.toast("取消购买")},handleClick:function(t){var n=t.index;if(0===n);else switch(this.action){case"login":e.navigateTo({url:"/pages/role/login/login"});break;case"authentication":e.navigateTo({url:"/pages/features/authentication/authentication"});break;case"payPass":e.navigateTo({url:"/pages/user/setPayPass/setPayPass"});break;default:break}this.modal=!1}}};t.default=m}).call(this,n("543d")["default"])},"8bfa":function(e,t,n){"use strict";(function(e){n("1f76");o(n("66fd"));var t=o(n("b12b"));function o(e){return e&&e.__esModule?e:{default:e}}e(t.default)}).call(this,n("543d")["createPage"])},9274:function(e,t,n){},b12b:function(e,t,n){"use strict";n.r(t);var o=n("f648"),r=n("12b2");for(var a in r)"default"!==a&&function(e){n.d(t,e,(function(){return r[e]}))}(a);n("fcd0");var i,s=n("f0c5"),c=Object(s["a"])(r["default"],o["b"],o["c"],!1,null,"fb503bfe",null,!1,o["a"],i);t["default"]=c.exports},f648:function(e,t,n){"use strict";var o={tuiSkeleton:function(){return n.e("components/tui-skeleton/tui-skeleton").then(n.bind(null,"5649"))},xhStoreParamsSKU:function(){return n.e("components/xhStoreParamsSKU/xhStoreParamsSKU").then(n.bind(null,"9ae7"))}},r=function(){var e=this,t=e.$createElement;e._self._c},a=[];n.d(t,"b",(function(){return r})),n.d(t,"c",(function(){return a})),n.d(t,"a",(function(){return o}))},fcd0:function(e,t,n){"use strict";var o=n("9274"),r=n.n(o);r.a}},[["8bfa","common/runtime","common/vendor"]]]);